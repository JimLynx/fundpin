{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'blog/css/blog.css' %}">
{% endblock %}

{% block content %}

<section id="blogDescription">
    <div class="container">
        <div class="row">
            <!-- Blog Description -->
            <div class="col-12 col-md-8 offset-md-2">
                <!-- Blog Title -->
                <h2>{{ blog_description.title|safe }}</h2>
                <!-- Blog Image -->
                <img class="float-left"
                    src="https://images.unsplash.com/photo-1533787896899-91b040188f57?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1320&q=80"
                    alt="">
                <!-- Blog Description -->
                <p>{{ blog_description.content|safe }}</p>
                <!-- author & date created -->
                <div class="text-muted mb-3">
                    Posted by <span class="font-italic">{{ blog_description.author }}</span> on
                    {{ blog_description.created_on.date }}
                </div>
                <div class="hr-dark w-100 my-4"></div>
            </div>
        </div>
        <!-- Blog Comments -->
        <div class="row">
            <div class="col-12 col-md-8 offset-md-2">
                <h5>This post has {{ comments.count }} comments</h5>
                {% for comment in comments %}
                <div class="comments">
                    <!-- comment author & date -->
                    <div class="text-muted">
                        Comment by <span class="font-italic">{{ comment.name }}</span> on
                        <span class=" text-muted">
                            {{ comment.created_on.date }}
                        </span>
                    </div>
                    <!-- comment content -->
                    <div class="w-100">
                        {{ comment.body }}
                    </div>
                </div>
                {% endfor %}
                <!-- New comment form -->
                <div class="hr-dark w-100 my-4"></div>
                <h3>Leave a comment</h3>
                <form method="post">
                    {{ comment_form|crispy }}
                    {% csrf_token %}
                    <button type="submit" class="btn btn-primary">Submit</button>
                </form>

            </div>
        </div>
    </div>
</section>


{% endblock %}